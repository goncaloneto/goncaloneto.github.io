<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
	<title>Filipa & Pedro</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>

<body>

	<div class="container-fluid p-5">
		<div class="row">
			<div class="col-4"></div>
			<div class="col-4 text-center">
				<h4>Password</h4>
				<input type="password" id="password" placeholder="Password" class="mb-2 mt-2">
				<div class="text-danger pb-2" id="error" style="font-size: 70%; visibility: hidden;">Password errada, tente
					novamente</div>
				<button id="loginbutton" class="btn btn-primary">Entrar</button>
			</div>
			<div class="col-4"></div>
		</div>
	</div>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script type="text/javascript" src="https://rawcdn.githack.com/chrisveness/crypto/7067ee62f18c76dd4a9d372a00e647205460b62b/sha1.js"></script>
	<script type="text/javascript">
		"use strict";


		function loadPage(pwd) {
			var hash = pwd;
			hash = Sha1.hash(pwd);
			var url = hash + "/index.html";
			$.ajax({
				url: url,
				dataType: "html",
				success: function (data) {
					window.location = url;
				},
				error: function (xhr, ajaxOptions, thrownError) {
					parent.location.hash = hash;
					$("#error").css("visibility", "visible");
					$("#password").val("");
				}
			});
		}


		$("#loginbutton").on("click", function () {
			loadPage($("#password").val());
		});

		$("#password").keypress(function (e) {
			if (e.which == 13) {
				loadPage($("#password").val());
			}
		});
		$("#password").focus();
	</script>

</body>

</html>